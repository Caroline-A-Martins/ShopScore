<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopScore - Perfil do Usuário</title>
    <!-- BOX ICONS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js"
        integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.perfil.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/janela-avaliacao.css">

</head>

<body>
    <!--Navbar-->
    <custom-header></custom-header>
    <div class="container">
        <div class="form">
            <h1>Perfil</h1>

            <div class="perfil-container">

                <input type="file" name="picture__input" id="picture__input" class="picture__input">
                <label class="picture" for="picture__input" tabIndex="0" id="perfil-img">
                    <span class="picture__image">Choose an image</span>
                </label>


                <div class="perfil-form">
                    <form class="fm-group" action="#" enctype="multipart/form-data">
                        <div class="input-group">
                            <label for="nome-fantasia">Nome Fantasia</label>
                            <input type="text" id="nome-fantasia" required>
                        </div>
                        <div class="input-group">
                            <label for="razao-social">Razão Social</label>
                            <input type="text" id="razao-social" required>
                        </div>
                        <div class="input-group">
                            <label for="email">E-mail</label>
                            <input type="email" id="email" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="cpf">CPF</label>
                            <input type="text" id="cpf" disabled>
                        </div>

                        

                    </form>
                    <div class="input-btn">
                        <button onclick="editar()">Editar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <custom-modal></custom-modal>

    <!-- Scripts -->
    <script src="../js/alterar-ft-perfil.js"></script>
    <script src="../js/janela-modal.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/header.js"></script>
    <script src="../js/user-janela.js"></script>
    <script src="../js/pag-perfil.js"></script>
    <script>
        const user = JSON.parse(localStorage.getItem('user'));
        document.getElementById('nome').value = user.name;
        document.getElementById('email').value = user.email;
        document.getElementById('telefone').value = user.telephone;
        document.getElementById('data-nasc').value = new Date(user.birthDate).toISOString().split('T')[0];
        document.getElementById('cpf').value = user.cpf;
        document.querySelector(`input[name="genero"][value="${user.gender}"]`).checked = true;

        if (user.image) {
            const pictureImage = document.querySelector(".picture__image");
            const img = document.createElement("img");
            img.src = user.image;
            img.classList.add("fm-group");

            pictureImage.innerHTML = "";
            pictureImage.appendChild(img);
        }
    </script>
</body>

</html>